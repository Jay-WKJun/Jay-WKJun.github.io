I"¡=<h1 id="javascript">JavaScript</h1>

<p>javascriptë€ single thread ì´ê³  non-blocked ì–¸ì–´ì´ë‹¤.</p>

<!--more-->

<h1 id="programì´ë€">Programì´ë€?</h1>

<ul>
  <li>Allocate Memory</li>
  <li>parse and execute(=read and run command)</li>
</ul>

<h1 id="web-browser--javascript-engine">web browser &amp; javascript engine</h1>

<p>ê° web browserëŠ” ê°ìì˜ javascript engineì´ ìˆê³  chromeì€ V8 engineì„ ì‚¬ìš©í•œë‹¤.</p>

<p>Engineì€ â€˜Memory heapâ€™ê³¼ â€˜Call stackâ€™ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.</p>

<p>â€˜Memory heapâ€™ì€ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ê³³=, â€˜Call stackâ€™ì€ codeê°€ read, executeë˜ëŠ” ê³³ì´ë‹¤.</p>

<h2 id="memory-leak">Memory leak</h2>

<p>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”, ê·¸ë˜ì„œ ì“¸ëª¨ì—†ê²Œ ëœ variableì´ ìˆì„ ë•Œ Memory leakë¼ê³  í•œë‹¤.</p>

<p>íŠ¹íˆ ì „ì—­ë³€ìˆ˜ëŠ” ìƒì„±í•˜ë©´ í”„ë¡œê·¸ë¨ì´ ëë‚ ë•Œê¹Œì§€ Memory heapì„ ì°¨ì§€í•˜ê¸° ë•Œë¬¸ì— memory leakì˜ ì›ì¸ì´ ë˜ì–´ ì¢‹ì§€ ì•Šë‹¤.</p>

<h2 id="call-stack">Call stack</h2>

<p>ëª…ë ¹ì„ stackì— pushí•˜ê³  ì‹¤í–‰í•˜ê³  popí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ëª…ë ¹ì„ ê³„ì† ì‹¤í–‰í•´ ë‚˜ê°„ë‹¤.</p>

<h1 id="single-threaded">Single Threaded</h1>

<p>Single Thread = one Call stack ì´ë¼ëŠ” ë§ë¡œ í•œë²ˆì— í•˜ë‚˜ì˜ ëª…ë ¹ì„ ìˆ˜í–‰í•œë‹¤.</p>

<h2 id="deadlock--multi-thread">Deadlock &amp; multi thread</h2>

<p>multi threadì˜ ë‹¨ì ìœ¼ë¡œ Deadlockì„ ë“¤ ìˆ˜ ìˆë‹¤. ë³µì¡í•˜ê²Œ ì—¬ë ¤ ëª…ë ¹ì„ ìª¼ê°œì„œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<h2 id="stack-overflow">Stack Overflow</h2>

<p>ë§ ê·¸ëŒ€ë¡œ Stackì˜ ìš©ëŸ‰ë³´ë‹¤ ë” ë§ì€ ì–‘ì˜ Dataí˜¹ì€ commandê°€ stackì— ë“¤ì–´ì˜¬ ë•Œ ìƒê¸°ëŠ” ì˜¤ë¥˜ì´ë‹¤.</p>

<p>Stack OverflowëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
	<span class="nx">foo</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">()</span>
</code></pre></div></div>

<p>Recursionì„ í†µí•´ foo()ê°€ ë¬´í•œíˆ stackì— ìŒ“ì—¬ overflowê°€ ì¼ì–´ë‚œë‹¤.</p>

<h1 id="non-blocking--asynchronous">non-blocking &amp; asynchronous</h1>

<p>javascriptëŠ” single threadì´ í•˜ê³  ìˆëŠ” ì‘ì—…ì„ ë§‰ì§€ ì•ŠëŠ”(non-blocking) asynchronousí•œ ì–¸ì–´ì´ë‹¤.</p>

<h2 id="synchronous-vs-asynchronous">synchronous vs asynchronous</h2>

<p>synchronousëŠ” ì„ ìƒë‹˜ì—ê²Œ ì „í™”í•˜ëŠ”ê²ƒê³¼ ê°™ë‹¤. ë‹µë³€ì„ ë°›ê¸° ìœ„í•´ ê³„ì† ì „í™”í•˜ê³  ê·¸ë™ì•ˆ ì•„ë¬´ê²ƒë„ í•˜ì§€ ëª»í•˜ëŠ” ìƒíƒœì´ë‹¤.</p>

<p>ì¦‰, ë§¡ì€ ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ë‹¤ë¥¸ ì‘ì—…ì´ ë°©í•´í•˜ì§€ ëª»í•˜ê²Œ(blocked)í•˜ëŠ” ê²ƒì´ë‹¤.</p>

<p>asynchronousëŠ” ì„ ìƒë‹˜ì—ê²Œ ë¬¸ìë¥¼ ë³´ë‚´ëŠ” ê²ƒê³¼ ê°™ë‹¤. ì§ˆë¬¸ì„ ë³´ë‚´ë†“ê³  ë‹¤ë¥¸ê±¸ í•˜ë‹¤ê°€ ë‹µë³€ì„ ë°›ìœ¼ë©´ ê·¸ê²ƒì„ ë³´ê³  í•´ê²°í•˜ë©´ ëœë‹¤.</p>

<p>ì¦‰, ë§¡ì€ ì‘ì—…ì´ ëë‚˜ì§€ ì•Šì•„ë„ ì ì‹œ ë¯¸ë¤„ë‘ê³  ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.(non-blocked)(callback)</p>

<p>setTimeoutì´ ì•„ì£¼ ê·¸ ì˜ˆì´ë‹¤. web APIì¤‘ í•˜ë‚˜ë¡œ íŠ¹ì • ì‹œê°„ë™ì•ˆ íŠ¹ì • methodë¥¼ ë¯¸ë¤„ë’€ë‹¤ê°€ callbackí•˜ì—¬ ë‹¤ì‹œ ì‘ì—…ì„ ì²˜ë¦¬ í•  ìˆ˜ ìˆë‹¤.</p>

<p>ex) EventLoop, onClick, onLoad etcâ€¦</p>

<h2 id="eventloop">EventLoop</h2>

<p>EventLoopëŠ” call stackì´ ë¹„ì–´ìˆì„ ë•Œ, ë‚¨ì€ ì‘ì—…ì„ callback í•´ì£¼ëŠ” loopë¡œ callback queueë¥¼ í•˜ë‚˜ì”© ì°¨ë¡€ëŒ€ë¡œ callbackí•´ì¤€ë‹¤.</p>

<h1 id="my-stack">My Stack</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Node</span> <span class="o">{</span>
	<span class="nc">String</span> <span class="n">value</span><span class="o">;</span>
	<span class="nc">Node</span> <span class="n">next</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">Node</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"Node [value="</span> <span class="o">+</span> <span class="n">value</span> <span class="o">+</span> <span class="s">", next="</span> <span class="o">+</span> <span class="n">next</span> <span class="o">+</span> <span class="s">"]"</span><span class="o">;</span>
	<span class="o">}</span>
	
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stack</span> <span class="o">{</span>

	<span class="nc">String</span> <span class="n">top</span><span class="o">;</span>
	<span class="nc">String</span> <span class="n">bottom</span><span class="o">;</span>
	<span class="kt">int</span> <span class="n">length</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">Stack</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">top</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">bottom</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">length</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Stack</span> <span class="n">stack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">();</span>
		<span class="nc">Node</span> <span class="n">head</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
		<span class="nc">String</span> <span class="n">youtube</span> <span class="o">=</span> <span class="s">"youtube"</span><span class="o">;</span>
		<span class="nc">String</span> <span class="n">google</span> <span class="o">=</span> <span class="s">"google"</span><span class="o">;</span>
		<span class="nc">String</span> <span class="n">udemy</span> <span class="o">=</span> <span class="s">"udemy"</span><span class="o">;</span>
		<span class="n">head</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">youtube</span><span class="o">,</span> <span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">head</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">google</span><span class="o">,</span> <span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">head</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">udemy</span><span class="o">,</span> <span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
		<span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">(</span><span class="n">head</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kt">void</span> <span class="nf">peek</span><span class="o">(</span><span class="nc">Node</span> <span class="n">node</span><span class="o">){</span>
		<span class="c1">//ê°’ì´ ì—†ë‹¤ë©´</span>
		<span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">value</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"nothing to peek man..."</span><span class="o">);</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
			<span class="k">return</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="nc">Node</span> <span class="n">currentNode</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
		
		<span class="c1">//ìµœì¢… ê°’ê¹Œì§€ ê°€ì„œ</span>
		<span class="k">while</span><span class="o">(</span><span class="n">currentNode</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">currentNode</span> <span class="o">=</span> <span class="n">currentNode</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="c1">//ìµœì¢… ê°’ ì¶œë ¥</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">currentNode</span><span class="o">.</span><span class="na">value</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="nc">Node</span> <span class="nf">push</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="nc">Node</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//ìµœì´ˆë¼ë©´</span>
		<span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">value</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nf">Node</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
		<span class="o">}</span>
		
		<span class="nc">Node</span> <span class="n">currentNode</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
		<span class="k">while</span><span class="o">(</span><span class="n">currentNode</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">currentNode</span> <span class="o">=</span> <span class="n">currentNode</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="n">currentNode</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Node</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
		<span class="n">length</span><span class="o">++;</span>
		
		<span class="k">return</span> <span class="n">node</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="nc">Node</span> <span class="nf">pop</span><span class="o">(</span><span class="nc">Node</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//ê°’ì´ ì—†ë‹¤ë©´</span>
		<span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">value</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"nothing to pop..."</span><span class="o">);</span>
		<span class="o">}</span>
		
		<span class="c1">//ë§ˆì§€ë§‰ ê°’ë§Œ ë‚¨ì•„ ìˆë‹¤ë©´</span>
		<span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">next</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">node</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
			<span class="n">length</span><span class="o">--;</span>
			<span class="k">return</span> <span class="n">node</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="nc">Node</span> <span class="n">currentNode</span> <span class="o">=</span> <span class="n">node</span><span class="o">;</span>
		<span class="c1">//ìµœì¢… ë°”ë¡œ ì „ ê°’ê¹Œì§€ ê°€ì„œ</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">currentNode</span> <span class="o">=</span> <span class="n">currentNode</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="c1">//pointerë¥¼ ì œê±°í•œë‹¤</span>
		<span class="n">currentNode</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">length</span><span class="o">--;</span>
		
		<span class="k">return</span> <span class="n">node</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

:ET