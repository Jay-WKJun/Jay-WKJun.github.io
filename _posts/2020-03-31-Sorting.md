---
layout: post
title: Sorting
tags: [ComputerScience, Algorithms]
excerpt_separator: <!--more-->
---

# Sorting

우리말로 "정렬"로 데이터를 정렬하는 것이다.

Sorting은 데이터의 규모가 커질 수록 중요해진다. 작은 데이터일 경우엔 언어에 내장된 메소드를 이용하면되지만 데이터가 10억 규모가 되면 이야기가 달라진다.

(이를 위해 wikipedia에는 수많은 sorting 알고리즘이 있지만 이것은 advanced 알고리즘으로 여기선 기초만 다룬다.)

데이터 규모가 커지면 커질수록 Data Handle에 cost가 기하급수적으로 오르기 때문에 큰 기업들에선 Sorting을 매우 중요하게 생각하며, 같은 이유로 interview에서도 마찬가지로 중요한 주제이다.

아래 페이지에서 각 sorting을 animation으로 볼 수 있다.

https://www.toptal.com/developers/sorting-algorithms

<!--more-->

## Don't always trust built in method in your language

built in인 sort method를 항상 믿으면 안된다.

javascript의 경우 문자의 가장 앞자리를 UTF-16의 encoding형태로 서로 비교하여 sorting하기 때문에 원하는 답이 안나올 수도 있다. int가 2자리 이상인 경우도 마찬가지이다.

게다가 문서엔 browser에 따라 처리속도와 필요 메모리가 바뀔 수 있다고 하니 주의해야한다.

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare

```javascript
const months = ['March', 'Jan', 'Feb', 'Dec'];
months.sort();
console.log(months);
// expected output: Array ["Dec", "Feb", "Jan", "March"]

const array1 = [1, 30, 4, 21, 100000];
array1.sort();
console.log(array1);
// expected output: Array [1, 100000, 21, 30, 4]

//이렇게하면 보완이 가능하다.
const array2 = [2, 65, 34, 2, 1, 7, 8]
array2.sort(function(a,b){
	return a - b;
})
// expected output: Array [1, 2, 2, 7, 8, 34, 65]
```

# Bubble sort

양 옆의 갚을 비교 하여 정렬하고 nested loop을 통해 완성한다. [O(n^2)]

```javascript
const numbers = [99, 44, 6, 2, 1, 5, 63, 87, 283, 4, 0];

function bubbleSort(array) {
  var length = array.length;
  for(var i = 0; i < length; i++){
    for(var j = 0; j < length-i; j++){
      if(array[j] > array[j+1]){
        var temp = array[j+1]
        array[j+1] = array[j]
        array[j] = temp
      }
    }
  }
  return array;
}

bubbleSort(numbers);
console.log(numbers);
```

# Selection Sort

List를 모두 훑으면서 가장 작은 값을 찾고 그 값을 해당 loop의 순번에 넣는다. 이것을 nested loop로 반복 [O(n^2)]

```javascript
const numbers = [99, 44, 6, 2, 1, 5, 63, 87, 283, 4, 0];

function selectionSort(array) {
  for(var i = 0; i<array.length-1;i++){
    for(var j = i+1; j<array.length;j++){
      if(array[i] > array[j]){
        var temp = array[j]
        array[j] = array[i]
        array[i] = temp;
      }
    }
  }
  return array;
}

selectionSort(numbers);
```

# Insertion sort

거의 sorting되어 있고 small data set이면 Insertion sorting이 가장 빠르다.

```javascript
const numbers = [99, 44, 6, 2, 1, 5, 63, 87, 283, 4, 0];

function insertionSort(array) {
  const length = array.length;
	for (let i = 0; i < length; i++) {
		if (array[i] < array[0]) {
      //move number to the first position
      array.unshift(array.splice(i,1)[0]);
    } else {
      // only sort number smaller than number on the left of it. This is the part of insertion sort that makes it fast if the array is almost sorted.
      if (array[i] < array[i-1]) {
        //find where number should go
        for (var j = 1; j < i; j++) {
          if (array[i] >= array[j-1] && array[i] < array[j]) {
            //move number to the right spot
            array.splice(j,0,array.splice(i,1)[0]);
          }
        }
      }
    }
	}
}

insertionSort(numbers);
console.log(numbers);
```