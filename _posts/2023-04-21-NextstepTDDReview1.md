---
layout: post
title: 너와 나와 우리를 위한 클린코드 (feat. NextStep, TDD 클린코드 with React 과정 1)
tags: [NextStep, TDD, react, cleanCode]
excerpt_separator: <!--more-->
---

# NextStep, TDD 클린코드 with React

![cleanCodeReact]({{ "../assets/img/cleanCodeReact/cleanCodeReact.jpeg" | relative_url }})

2월 ~ 4월까지 약 2달 동안 [NextStep](https://edu.nextstep.camp/)의 [TDD 클린코드 with React](https://edu.nextstep.camp/c/QoTvUh4y/) 과정을 진행했습니다.

과정을 진행하면서 여러모로 배운 점들이 정말 많지만, 이번엔 리액트 클린코드 과정 진행과 클린코드에 대해 배우고 느꼈던 점들에 대해 나누어보려고 합니다. 😁

<!--more-->

# 과정 소개

간단하게 제가 진행했던 TDD 클린코드 with React 2기 과정에 대해 설명하겠습니다.

미션은 크게 2가지로 구성되어있습니다.

## 페이먼츠 미션

![payments_demo]({{ "../assets/img/cleanCodeReact/payments_demo.gif" | relative_url }})

다수의 input이 있는 복잡한 form을 다루는 미션입니다.

CDD 방법론을 적용해 Bottom-up 방식으로 컴포넌트를 개발하고 Storybook으로 테스트하는 것을 중점으로 합니다.

(이 미션에선 상태 관리 라이브러리를 사용할 수 없습니다. ㅎㅎ 😯)

## 장바구니 페이지

![card_demo]({{ "../assets/img/cleanCodeReact/cart_demo.gif" | relative_url }})

Api가 없는 상황에서도 안정적으로 개발환경을 구축하고 복수의 페이지에서도 복잡한 state를 안정적으로 관리하는 방법을 중점으로 진행합니다.

전 **MSW**와 **react-query**를 적용해 개발했습니다.

## 이번 포스트는 페이먼츠 미션을 중심으로 진행됩니다.

두가지 미션 중에선 개인적으로 페이먼츠가 더 어려웠고 그만큼 배운 점도 더 많았다고 생각합니다.

따라서, 페이먼츠 미션을 위주로 이번 포스트를 진행하도록 하겠습니다!

# 페이먼츠 설계

페이먼츠 미션을 보고 처음에 생각했던 설계입니다.

이번 미션에선 상태 관리 라이브러리를 사용할 수 없어 전역 상태 공유는 모두 Context Api를 활용했습니다.

## 어디에서든 손쉽게 사용할 수 있도록 input Element와 동기화 된 객체를 state로 가져보자.



## 여러겹의 추상화 계층으로 재사용성을 높여보자.



# 페이먼츠 리뷰

구현을 마치고 PR을 올리면 리뷰어님이 제 구현 코드를 보고 리뷰를 주십니다.

(수십개가 넘는 Comment로 두들겨 맞은건 안비밀 😇)

현재 코드에서 좀 더 확장성 있고 읽기 쉬운 코드가 되기 위해 놓친 부분들을 많이 지적해 주셨습니다.

(리뷰해주셔서 진심으로 감사합니다! 리뷰어님! 😁 덕분에 정말 많이 배웠어요!)

## Element와 동기화 된 객체의 문제점 -> DOM에 직접적인 의존성을 가지고 있음.



## 여러겹의 추상화 -> 굳이 이렇게까지? 가독성이 크게 떨어지고 코드 수정에 불리



### 의존성 다이어그램

의존성 다이어그램을 그려보면 복잡한 구조가 한 눈에 보인다.

# 너와 나와 우리를 위한 클린코드

> 이 코드를 즐겁게 다루기 위한 지금의 너와 미래의 나와 우리 팀을 위한 클린코드.

앞서 제목으로 너와 나와 우리를 위한 클린코드라는 제목으로 이 포스트를 시작했습니다.

코드를 계속해서 수정해보면서 느꼈던 클린코드의 중요성을 한줄의 제목으로 표현해봤습니다. 😁

-> 보편적인 클론코드 이론들이 어떻게 유용한지 위에 적은 경험이외의 경험과 이어서 간단히 설명

감사합니다.
